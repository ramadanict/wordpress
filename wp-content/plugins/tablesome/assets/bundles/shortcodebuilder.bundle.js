(()=>{const e="#csf-modal-tablesome-shortcode";class t{constructor(){return t.instance?t.instance:(t.instance=this,this)}getInstance(){return void 0===this.instance&&(this.instance=this),this.instance}init(){this.eventListeners()}eventListeners(){const t=this;jQuery(e).on("change",".csf-modal-table .csf-modal-content .csf-fields .tablesome__fields--table_id",(function(){let e=jQuery(this).find(".csf-fieldset select[name*='table_id']").val();if(""==e)return alert(translation_strings.enter_table_id_alert),!1;t.sendRequest(e)}))}sendRequest(t){const n=this;jQuery.get(tablesome_ajax_object.ajax_url,{action:"get_table_columns",nonce:tablesome_ajax_object.nonce,table_id:t,dataType:"JSON"},(function(t){if("failed"==t.status)return alert("Please enter the valid tablesome table id"),!1;let s=t.data,a=n.getExcludeColumnOptionsHTML(s),i=jQuery(e).find(".csf-modal-table .csf-modal-content .csf-fields .tablesome__fields--exclude_columns .csf-fieldset select[name='_pseudo']");i.empty().append(a),i.trigger("chosen:updated")}))}getExcludeColumnOptionsHTML(e){return e.map((e=>"<option value="+e.id+">"+e.name+"</option>")).join("")}}jQuery(document).on("ready",(function(){(new t).init()}))})();