!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).DndAction={})}(this,(function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,d=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return d=e.done,e},e:function(e){s=!0,i=e},f:function(){try{d||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t,n){e.dispatchEvent(new CustomEvent("finalize",{detail:{items:t,info:n}}))}function u(e,t,n){e.dispatchEvent(new CustomEvent("consider",{detail:{items:t,info:n}}))}var l="draggedEntered",f="draggedLeft",g="draggedOverIndex",p="draggedLeftDocument",v="leftForAnother",y="outsideOfAny";function m(e,t,n){e.dispatchEvent(new CustomEvent(l,{detail:{indexObj:t,draggedEl:n}}))}function h(e,t,n){e.dispatchEvent(new CustomEvent(f,{detail:{draggedEl:t,type:v,theOtherDz:n}}))}function b(e,t){e.dispatchEvent(new CustomEvent(f,{detail:{draggedEl:t,type:y}}))}function w(e,t,n){e.dispatchEvent(new CustomEvent(g,{detail:{indexObj:t,draggedEl:n}}))}function E(e){window.dispatchEvent(new CustomEvent(p,{detail:{draggedEl:e}}))}var D={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:l,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:g,DRAGGED_LEFT:f,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},O={POINTER:"pointer",KEYBOARD:"keyboard"},T="isDndShadowItem",x="data-is-dnd-shadow-item",A="id:dnd-shadow-placeholder-0000",R="dnd-action-dragged-el",S="id",I=0;function P(){I++}function _(){if(0===I)throw new Error("Bug! trying to decrement when there are no dropzones");I--}var L,N="undefined"==typeof window,C=function(){};function k(e){var t,n=e.getBoundingClientRect(),r=getComputedStyle(e),o=r.transform;if(o){var i,a,d,s;if(o.startsWith("matrix3d("))i=+(t=o.slice(9,-1).split(/, /))[0],a=+t[5],d=+t[12],s=+t[13];else{if(!o.startsWith("matrix("))return n;i=+(t=o.slice(7,-1).split(/, /))[0],a=+t[3],d=+t[4],s=+t[5]}var c=r.transformOrigin,u=n.x-d-(1-i)*parseFloat(c),l=n.y-s-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),f=i?n.width/i:e.offsetWidth,g=a?n.height/a:e.offsetHeight;return{x:u,y:l,width:f,height:g,top:l,right:u+f,bottom:l+g,left:u}}return n}function M(e){var t=k(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function j(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function z(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function F(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function G(e){return z(j(e))}function B(e,t){return F(G(e),M(t))}function W(e,t){var n,r;return n=G(e),r=G(t),Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}function Y(e){var t=j(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function H(){C((function(){return"resetting indexes cache"})),L=new Map}function Z(e){C((function(){return"resetting indexes cache for dz"})),L.delete(e)}function X(e,t){if(!B(e,t))return null;var n=t.children;if(0===n.length)return{index:0,isProximityBased:!0};for(var r=function(e){var t=Array.from(e.children).findIndex((function(e){return e.getAttribute(x)}));if(t>=0)return L.has(e)||L.set(e,new Map),L.get(e).set(t,M(e.children[t])),t}(t),o=0;o<n.length;o++)if(B(e,n[o])){var i=L.has(t)&&L.get(t).get(o);return i&&!F(G(e),i)?{index:r,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var a=Number.MAX_VALUE,d=void 0,s=0;s<n.length;s++){var c=W(e,n[s]);c<a&&(a=c,d=s)}return{index:d,isProximityBased:!0}}function K(){var e;function t(){e={directionObj:void 0,stepPx:0}}function n(t){var r=e,o=r.directionObj,i=r.stepPx;o&&(t.scrollBy(o.x*i,o.y*i),window.requestAnimationFrame((function(){return n(t)})))}function r(e){return 25-e}return t(),{scrollIfNeeded:function(o,i){if(!i)return!1;var a,d,s=F(a=o,d=j(i))?{top:a.y-d.top,bottom:d.bottom-a.y,left:a.x-d.left,right:Math.min(d.right,document.documentElement.clientWidth)-a.x}:null;if(null===s)return t(),!1;var c=!!e.directionObj,u=!1,l=!1;return i.scrollHeight>i.clientHeight&&(s.bottom<25?(u=!0,e.directionObj={x:0,y:1},e.stepPx=r(s.bottom)):s.top<25&&(u=!0,e.directionObj={x:0,y:-1},e.stepPx=r(s.top)),!c&&u)||i.scrollWidth>i.clientWidth&&(s.right<25?(l=!0,e.directionObj={x:1,y:0},e.stepPx=r(s.right)):s.left<25&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=r(s.left)),!c&&l)?(n(i),!0):(t(),!1)},resetScrolling:t}}function U(e){return JSON.stringify(e,null,2)}function V(e){if(!e)throw new Error("cannot get depth of a falsy node");return q(e,0)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.parentElement?q(e.parentElement,t+1):t-1}H();var J,$,Q=K(),ee=Q.scrollIfNeeded,te=Q.resetScrolling;function ne(e){var t=e.touches?e.touches[0]:e;$={x:t.clientX,y:t.clientY}}var re,oe=K(),ie=oe.scrollIfNeeded,ae=oe.resetScrolling;function de(){$&&ie($,document.documentElement)&&H(),re=window.setTimeout(de,300)}function se(e){return"".concat(e," ").concat(.2,"s ease")}function ce(e,t){var n=window.getComputedStyle(e);Array.from(n).filter((function(e){return e.startsWith("background")||e.startsWith("padding")||e.startsWith("font")||e.startsWith("text")||e.startsWith("align")||e.startsWith("justify")||e.startsWith("display")||e.startsWith("flex")||e.startsWith("border")||"opacity"===e||"color"===e||"list-style-type"===e})).forEach((function(e){return t.style.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))}))}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};e.forEach((function(e){var r=t(e);Object.keys(r).forEach((function(t){e.style[t]=r[t]})),n(e).forEach((function(t){return e.classList.add(t)}))}))}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};e.forEach((function(e){var r=t(e);Object.keys(r).forEach((function(t){e.style[t]=""})),n(e).forEach((function(t){return e.classList.contains(t)&&e.classList.remove(t)}))}))}var fe,ge,pe,ve,ye,me,he,be,we,Ee,De,Oe,Te=100,xe={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ae=!1,Re=!1,Se=!1,Ie=new Map,Pe=new Map,_e=new WeakMap;function Le(e,t){Ie.get(t).delete(e),_(),0===Ie.get(t).size&&Ie.delete(t)}function Ne(){C((function(){return"watching dragged element"})),C((function(){return"arming window scroller"})),window.addEventListener("mousemove",ne),window.addEventListener("touchmove",ne),de();var e,t=Ie.get(ve),n=s(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.addEventListener(l,ke),r.addEventListener(f,Me),r.addEventListener(g,je)}}catch(e){n.e(e)}finally{n.f()}window.addEventListener(p,Fe);var o=Math.max.apply(Math,[Te].concat(i(Array.from(t.keys()).map((function(e){return Pe.get(e).dropAnimationDurationMs})))));!function(e,t){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=!1,d=Array.from(t).sort((function(e,t){return V(t)-V(e)}));function c(){var t=G(e),u=ee(t,n);if(!u&&o&&Math.abs(o.x-t.x)<10&&Math.abs(o.y-t.y)<10)J=window.setTimeout(c,i);else{if(Y(e))return C((function(){return"off document"})),void E(e);o=t;var l,f=!1,g=s(d);try{for(g.s();!(l=g.n()).done;){var p=l.value;u&&Z(n);var v=X(e,p);if(null!==v){var y=v.index;f=!0,p!==n?(n&&h(n,e,p),m(p,v,e),n=p):y!==r&&(w(p,v,e),r=y);break}}}catch(e){g.e(e)}finally{g.f()}!f&&a&&n?(b(n,e),n=void 0,r=void 0,a=!1):a=!0,J=window.setTimeout(c,i)}}c()}(ge,t,1.07*o)}function Ce(e){return e.findIndex((function(e){return!!e.isDndShadowItem&&e[S]!==A}))}function ke(e){C((function(){return["dragged entered",e.currentTarget,e.detail]}));var t=Pe.get(e.currentTarget),n=t.items;if(t.dropFromOthersDisabled&&e.currentTarget!==ye)C((function(){return"ignoring dragged entered because drop is currently disabled"}));else{if(Se=!1,n=n.filter((function(e){return e[S]!==he[S]})),C((function(){return"dragged entered items ".concat(U(n))})),ye!==e.currentTarget){var r=Pe.get(ye).items.filter((function(e){return!e.isDndShadowItem}));u(ye,r,{trigger:D.DRAGGED_ENTERED_ANOTHER,id:pe[S],source:O.POINTER})}else{var o=function(e){return e.findIndex((function(e){return e[S]===A}))}(n);-1!==o&&(C((function(){return"removing placeholder item from origin dz"})),n.splice(o,1))}var i=e.detail.indexObj,a=i.index,d=i.isProximityBased&&a===e.currentTarget.children.length-1?a+1:a;be=e.currentTarget,n.splice(d,0,he),u(e.currentTarget,n,{trigger:D.DRAGGED_ENTERED,id:pe[S],source:O.POINTER})}}function Me(e){if(Ae){C((function(){return["dragged left",e.currentTarget,e.detail]}));var t=Pe.get(e.currentTarget),n=t.items;if(t.dropFromOthersDisabled&&e.currentTarget!==ye&&e.currentTarget!==be)C((function(){return"drop is currently disabled"}));else{var r=Ce(n),o=n.splice(r,1)[0];be=void 0;var i=e.detail,a=i.type,d=i.theOtherDz;if(a===y||a===v&&d!==ye&&Pe.get(d).dropFromOthersDisabled){C((function(){return"dragged left all, putting shadow element back in the origin dz"})),Se=!0,be=ye;var s=Pe.get(ye).items;s.splice(me,0,o),u(ye,s,{trigger:D.DRAGGED_LEFT_ALL,id:pe[S],source:O.POINTER})}u(e.currentTarget,n,{trigger:D.DRAGGED_LEFT,id:pe[S],source:O.POINTER})}}}function je(e){C((function(){return["dragged is over index",e.currentTarget,e.detail]}));var t=Pe.get(e.currentTarget),n=t.items;if(t.dropFromOthersDisabled&&e.currentTarget!==ye)C((function(){return"drop is currently disabled"}));else{Se=!1;var r=e.detail.indexObj.index,o=Ce(n);n.splice(o,1),n.splice(r,0,he),u(e.currentTarget,n,{trigger:D.DRAGGED_OVER_INDEX,id:pe[S],source:O.POINTER})}}function ze(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ee={x:t.clientX,y:t.clientY},ge.style.transform="translate3d(".concat(Ee.x-we.x,"px, ").concat(Ee.y-we.y,"px, 0)")}function Fe(){C((function(){return"dropped"})),Re=!0,window.removeEventListener("mousemove",ze),window.removeEventListener("touchmove",ze),window.removeEventListener("mouseup",Fe),window.removeEventListener("touchend",Fe),function(){C((function(){return"unwatching dragged element"})),C((function(){return"disarming window scroller"})),window.removeEventListener("mousemove",ne),window.removeEventListener("touchmove",ne),$=void 0,window.clearTimeout(re),ae();var e,t=s(Ie.get(ve));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeEventListener(l,ke),n.removeEventListener(f,Me),n.removeEventListener(g,je)}}catch(e){t.e(e)}finally{t.f()}window.removeEventListener(p,Fe),C((function(){return"unobserving"})),clearTimeout(J),te(),H()}(),function(e){e.style.cursor="grab"}(ge),be||(C((function(){return"element was dropped right after it left origin but before entering somewhere else"})),be=ye),C((function(){return["dropped in dz",be]}));var e=Pe.get(be),t=e.items,n=e.type;le(Ie.get(n),(function(e){return Pe.get(e).dropTargetStyle}),(function(e){return Pe.get(e).dropTargetClasses}));var r=Ce(t);-1===r&&(r=me),t=t.map((function(e){return e.isDndShadowItem?pe:e})),function(e,t){var n=k(be.children[e]),r={x:n.left-parseFloat(ge.style.left),y:n.top-parseFloat(ge.style.top)},o=Pe.get(be).dropAnimationDurationMs,i="transform ".concat(o,"ms ease");ge.style.transition=ge.style.transition?ge.style.transition+","+i:i,ge.style.transform="translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)"),window.setTimeout(t,o)}(r,(function(){var e;De(),c(be,t,{trigger:Se?D.DROPPED_OUTSIDE_OF_ANY:D.DROPPED_INTO_ZONE,id:pe[S],source:O.POINTER}),be!==ye&&c(ye,Pe.get(ye).items,{trigger:D.DROPPED_INTO_ANOTHER,id:pe[S],source:O.POINTER}),(e=be.children[r]).style.visibility="",e.removeAttribute(x),ge.remove(),fe.remove(),ge=void 0,fe=void 0,pe=void 0,ve=void 0,ye=void 0,me=void 0,he=void 0,be=void 0,we=void 0,Ee=void 0,Ae=!1,Re=!1,De=void 0,Se=!1}))}function Ge(e,t){var r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:xe,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1};C((function(){return["dndzone good to go options: ".concat(U(t),", config: ").concat(U(r)),{node:e}]}));var a=new Map;function d(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){d(),fe=void 0,we=void 0,Ee=void 0}function c(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ee={x:t.clientX,y:t.clientY},(Math.abs(Ee.x-we.x)>=3||Math.abs(Ee.y-we.y)>=3)&&(d(),function(){C((function(){return["drag start config: ".concat(U(r)),fe]})),Ae=!0;var e=a.get(fe);me=e;var t=(ye=fe.parentElement).getRootNode(),i=t.body||t,d=r.items,s=r.type,c=r.centreDraggedOnCursor;pe=o({},d[e]),ve=s,he=o(o({},pe),{},n({},T,!0));var l=o(o({},he),{},n({},S,A));ge=function(e,t){var n=e.getBoundingClientRect(),r=e.cloneNode(!0);ce(e,r),r.id=R,r.style.position="fixed";var o=n.top,i=n.left;if(r.style.top="".concat(o,"px"),r.style.left="".concat(i,"px"),t){var a=z(n);o-=a.y-t.y,i-=a.x-t.x,window.setTimeout((function(){r.style.top="".concat(o,"px"),r.style.left="".concat(i,"px")}),0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height="".concat(n.height,"px"),r.style.width="".concat(n.width,"px"),r.style.transition="".concat(se("top"),", ").concat(se("left"),", ").concat(se("background-color"),", ").concat(se("opacity"),", ").concat(se("color")," "),window.setTimeout((function(){return r.style.transition+=", ".concat(se("width"),", ").concat(se("height"))}),0),r.style.zIndex="9999",r.style.cursor="grabbing",r}(fe,c&&Ee),window.requestAnimationFrame((function e(){var t;ge.parentElement?window.requestAnimationFrame(e):(i.appendChild(ge),ge.focus(),Ne(),(t=fe).style.display="none",t.style.position="fixed",t.style.zIndex="-5",i.appendChild(fe))})),ue(Array.from(Ie.get(r.type)).filter((function(e){return e===ye||!Pe.get(e).dropFromOthersDisabled})),(function(e){return Pe.get(e).dropTargetStyle}),(function(e){return Pe.get(e).dropTargetClasses})),d.splice(e,1,l),De=function(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}(ye),u(ye,d,{trigger:D.DRAG_STARTED,id:pe[S],source:O.POINTER}),window.addEventListener("mousemove",ze,{passive:!1}),window.addEventListener("touchmove",ze,{passive:!1,capture:!1}),window.addEventListener("mouseup",Fe,{passive:!1}),window.addEventListener("touchend",Fe,{passive:!1})}())}function l(e){if(e.target===e.currentTarget||void 0===e.target.value&&!e.target.isContentEditable)if(e.button)C((function(){return"ignoring none left click button: ".concat(e.button)}));else if(Ae)C((function(){return"cannot start a new drag before finalizing previous one"}));else{e.stopPropagation();var t=e.touches?e.touches[0]:e;we={x:t.clientX,y:t.clientY},Ee=o({},we),fe=e.currentTarget,window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}else C((function(){return"won't initiate drag on a nested input element"}))}function f(t){var n,o,d=t.items,s=void 0===d?void 0:d,c=t.flipDurationMs,u=void 0===c?0:c,f=t.type,g=void 0===f?"--any--":f,p=t.dragDisabled,v=void 0!==p&&p,y=t.morphDisabled,m=void 0!==y&&y,h=t.dropFromOthersDisabled,b=void 0!==h&&h,w=t.dropTargetStyle,E=void 0===w?xe:w,D=t.dropTargetClasses,O=void 0===D?[]:D,T=t.transformDraggedElement,A=void 0===T?function(){}:T,R=t.centreDraggedOnCursor,S=void 0!==R&&R;function I(e,t){return Pe.get(e)?Pe.get(e)[t]:r[t]}r.dropAnimationDurationMs=u,r.type&&g!==r.type&&Le(e,r.type),r.type=g,n=e,o=g,C((function(){return"registering drop-zone if absent"})),Ie.has(o)||Ie.set(o,new Set),Ie.get(o).has(n)||(Ie.get(o).add(n),P()),r.items=i(s),r.dragDisabled=v,r.morphDisabled=m,r.transformDraggedElement=A,r.centreDraggedOnCursor=S,!Ae||Re||function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}(E,r.dropTargetStyle)&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(O,r.dropTargetClasses)||(le([e],(function(){return r.dropTargetStyle}),(function(){return O})),ue([e],(function(){return E}),(function(){return O}))),r.dropTargetStyle=E,r.dropTargetClasses=i(O),Ae&&r.dropFromOthersDisabled!==b&&(b?le([e],(function(e){return I(e,"dropTargetStyle")}),(function(e){return I(e,"dropTargetClasses")})):ue([e],(function(e){return I(e,"dropTargetStyle")}),(function(e){return I(e,"dropTargetClasses")}))),r.dropFromOthersDisabled=b,Pe.set(e,r);for(var _=Ce(r.items),L=function(t){var n,o=e.children[t];if(function(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}(o,v),t===_)return m||function(e,t,n,r,o){var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),d=i.width-a.width,s=i.height-a.height;if(d||s){var c={left:(n-a.left)/a.width,top:(r-a.top)/a.height};e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px"),e.style.left="".concat(parseFloat(e.style.left)-c.left*d,"px"),e.style.top="".concat(parseFloat(e.style.top)-c.top*s,"px")}ce(t,e),o()}(ge,o,Ee.x,Ee.y,(function(){return r.transformDraggedElement(ge,pe,t)})),(n=o).style.visibility="hidden",n.setAttribute(x,"true"),"continue";o.removeEventListener("mousedown",_e.get(o)),o.removeEventListener("touchstart",_e.get(o)),v||(o.addEventListener("mousedown",l),o.addEventListener("touchstart",l),_e.set(o,l)),a.set(o,t)},N=0;N<e.children.length;N++)L(N)}return f(t),{update:function(e){C((function(){return"pointer dndzone will update newOptions: ".concat(U(e))})),f(e)},destroy:function(){C((function(){return"pointer dndzone will destroy"})),Le(e,r.type),Pe.delete(e)}}}var Be,We={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Ye=(n(Oe={},We.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),n(Oe,We.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Oe);function He(){(Be=document.createElement("div")).id="dnd-action-aria-alert",Be.style.position="fixed",Be.style.bottom="0",Be.style.left="0",Be.style.zIndex="-5",Be.style.opacity="0",Be.style.height="0",Be.style.width="0",Be.setAttribute("role","alert"),document.body.prepend(Be),Object.entries(Ye).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw i}}return n}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];return document.body.prepend(function(e,t){var n=document.createElement("div");return n.id=e,n.innerHTML="<p>".concat(t,"</p>"),n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(n,r))}))}function Ze(e){Be.innerHTML="";var t=document.createTextNode(e);Be.appendChild(t),Be.style.display="none",Be.style.display="inline"}var Xe,Ke,Ue,Ve,qe={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Je=!1,$e="",Qe="",et=new WeakSet,tt=new WeakMap,nt=new WeakMap,rt=new Map,ot=new Map,it=new Map,at=N?null:("complete"===document.readyState?He():window.addEventListener("DOMContentLoaded",He),o({},We));function dt(e,t){C((function(){return"unregistering drop-zone"})),Ke===e&&ft(),it.get(t).delete(e),_(),0===it.get(t).size&&it.delete(t),0===it.size&&(C((function(){return"removing global keydown and click handlers"})),window.removeEventListener("keydown",st),window.removeEventListener("click",ct))}function st(e){Je&&"Escape"===e.key&&ft()}function ct(){Je&&(et.has(document.activeElement)||(C((function(){return"clicked outside of any draggable"})),ft()))}function ut(e){if(C((function(){return"zone focus"})),Je){var t=e.currentTarget;if(t!==Ke){$e=t.getAttribute("aria-label")||"";var n=ot.get(Ke).items,r=n.find((function(e){return e[S]===Ve})),o=n.indexOf(r),i=n.splice(o,1)[0],a=ot.get(t),d=a.items,s=a.autoAriaDisabled;t.getBoundingClientRect().top<Ke.getBoundingClientRect().top||t.getBoundingClientRect().left<Ke.getBoundingClientRect().left?(d.push(i),s||Ze("Moved item ".concat(Qe," to the end of the list ").concat($e))):(d.unshift(i),s||Ze("Moved item ".concat(Qe," to the beginning of the list ").concat($e))),c(Ke,n,{trigger:D.DROPPED_INTO_ANOTHER,id:Ve,source:O.KEYBOARD}),c(t,d,{trigger:D.DROPPED_INTO_ZONE,id:Ve,source:O.KEYBOARD}),Ke=t}}}function lt(){rt.forEach((function(e,t){return(0,e.update)(ot.get(t))}))}function ft(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];C((function(){return"drop"})),ot.get(Ke).autoAriaDisabled||Ze("Stopped dragging item ".concat(Qe)),et.has(document.activeElement)&&document.activeElement.blur(),e&&u(Ke,ot.get(Ke).items,{trigger:D.DRAG_STOPPED,id:Ve,source:O.KEYBOARD}),le(it.get(Xe),(function(e){return ot.get(e).dropTargetStyle}),(function(e){return ot.get(e).dropTargetClasses})),Ue=null,Ve=null,Qe="",Xe=null,Ke=null,$e="",Je=!1,lt()}function gt(e){var n=e.items,r=(e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled,e.zoneTabIndex),o=(e.dropTargetStyle,e.dropTargetClasses),i=(e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]));if(Object.keys(i).length,!n)throw new Error("no 'items' key provided to dndzone");var a,d,s=n.find((function(e){return!{}.hasOwnProperty.call(e,S)}));if(s)throw new Error("missing '".concat(S,"' property for item ").concat(U(s)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(t(o),", ").concat(U(o)));if(r&&(a=r,isNaN(a)||(0|(d=parseFloat(a)))!==d))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(t(r),", ").concat(U(r)))}e.DRAGGED_ELEMENT_ID=R,e.SHADOW_ITEM_MARKER_PROPERTY_NAME=T,e.SHADOW_PLACEHOLDER_ITEM_ID=A,e.SOURCES=O,e.TRIGGERS=D,e.alertToScreenReader=Ze,e.dndzone=function(e,t){gt(t);var n=Ge(e,t),r=function(e,t){var n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:qe,dropTargetClasses:[],autoAriaDisabled:!1};function r(e,t,n){e.length<=1||e.splice(n,1,e.splice(t,1,e[n])[0])}function o(t){switch(C((function(){return["handling key down",t.key]})),t.key){case"Enter":case" ":if((void 0!==t.target.disabled||t.target.href||t.target.isContentEditable)&&!et.has(t.target))return;t.preventDefault(),t.stopPropagation(),Je?ft():a(t);break;case"ArrowDown":case"ArrowRight":if(!Je)return;t.preventDefault(),t.stopPropagation();var o=ot.get(e).items,i=Array.from(e.children),d=i.indexOf(t.currentTarget);C((function(){return["arrow down",d]})),d<i.length-1&&(n.autoAriaDisabled||Ze("Moved item ".concat(Qe," to position ").concat(d+2," in the list ").concat($e)),r(o,d,d+1),c(e,o,{trigger:D.DROPPED_INTO_ZONE,id:Ve,source:O.KEYBOARD}));break;case"ArrowUp":case"ArrowLeft":if(!Je)return;t.preventDefault(),t.stopPropagation();var s=ot.get(e).items,u=Array.from(e.children).indexOf(t.currentTarget);C((function(){return["arrow up",u]})),u>0&&(n.autoAriaDisabled||Ze("Moved item ".concat(Qe," to position ").concat(u," in the list ").concat($e)),r(s,u,u-1),c(e,s,{trigger:D.DROPPED_INTO_ZONE,id:Ve,source:O.KEYBOARD}))}}function a(t){var r,o,i,a;C((function(){return"drag start"})),r=t.currentTarget,o=ot.get(e).items,a=(i=Array.from(e.children)).indexOf(r),(Ue=r).tabIndex=0,Ve=o[a][S],Qe=i[a].getAttribute("aria-label")||"",Ke=e,Xe=n.type,Je=!0;var d=Array.from(it.get(n.type)).filter((function(e){return e===Ke||!ot.get(e).dropFromOthersDisabled}));if(ue(d,(function(e){return ot.get(e).dropTargetStyle}),(function(e){return ot.get(e).dropTargetClasses})),!n.autoAriaDisabled){var s="Started dragging item ".concat(Qe,". Use the arrow keys to move it within its list ").concat($e);d.length>1&&(s+=", or tab to another list in order to move the item into it"),Ze(s)}u(e,ot.get(e).items,{trigger:D.DRAG_STARTED,id:Ve,source:O.KEYBOARD}),lt()}function d(e){Je&&e.currentTarget!==Ue&&(e.stopPropagation(),ft(!1),a(e))}function s(t){var r,a,s=t.items,c=void 0===s?[]:s,u=t.type,l=void 0===u?"--any--":u,f=t.dragDisabled,g=void 0!==f&&f,p=t.zoneTabIndex,v=void 0===p?0:p,y=t.dropFromOthersDisabled,m=void 0!==y&&y,h=t.dropTargetStyle,b=void 0===h?qe:h,w=t.dropTargetClasses,E=void 0===w?[]:w,D=t.autoAriaDisabled,O=void 0!==D&&D;n.items=i(c),n.dragDisabled=g,n.dropFromOthersDisabled=m,n.zoneTabIndex=v,n.dropTargetStyle=b,n.dropTargetClasses=E,n.autoAriaDisabled=O,O||(e.setAttribute("aria-disabled",g),e.setAttribute("role","list"),e.setAttribute("aria-describedby",g?at.DND_ZONE_DRAG_DISABLED:at.DND_ZONE_ACTIVE)),n.type&&l!==n.type&&dt(e,n.type),n.type=l,r=e,a=l,C((function(){return"registering drop-zone if absent"})),0===it.size&&(C((function(){return"adding global keydown and click handlers"})),window.addEventListener("keydown",st),window.addEventListener("click",ct)),it.has(a)||it.set(a,new Set),it.get(a).has(r)||(it.get(a).add(r),P()),ot.set(e,n),e.tabIndex=Je?e===Ke||Ue.contains(e)||n.dropFromOthersDisabled||Ke&&n.type!==ot.get(Ke).type?-1:0:n.zoneTabIndex,e.addEventListener("focus",ut);for(var T=function(t){var r=e.children[t];et.add(r),r.tabIndex=Je?-1:0,O||r.setAttribute("role","listitem"),r.removeEventListener("keydown",tt.get(r)),r.removeEventListener("click",nt.get(r)),g||(r.addEventListener("keydown",o),tt.set(r,o),r.addEventListener("click",d),nt.set(r,d)),Je&&n.items[t][S]===Ve&&(C((function(){return["focusing on",{i:t,focusedItemId:Ve}]})),(Ue=r).tabIndex=0,r.focus())},x=0;x<e.children.length;x++)T(x)}s(t);var l={update:function(e){C((function(){return"keyboard dndzone will update newOptions: ".concat(U(e))})),s(e)},destroy:function(){C((function(){return"keyboard dndzone will destroy"})),dt(e,n.type),ot.delete(e),rt.delete(e)}};return rt.set(e,l),l}(e,t);return{update:function(e){gt(e),n.update(e),r.update(e)},destroy:function(){n.destroy(),r.destroy()}}},e.overrideItemIdKeyNameBeforeInitialisingDndZones=function(e){if(I>0)throw new Error("can only override the id key before initialising any dndzone");if("string"!=typeof e)throw new Error("item id key has to be a string");C((function(){return["overriding item id key name",e]})),S=e},e.setDebugMode=function(e){C=e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.debug,n=e();Array.isArray(n)?t.apply(void 0,i(n)):t(n)}:function(){}},Object.defineProperty(e,"__esModule",{value:!0})}));